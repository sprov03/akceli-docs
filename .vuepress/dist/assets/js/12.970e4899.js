(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{207:function(t,a,s){"use strict";s.r(a);var e=s(0),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"walk-through"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#walk-through"}},[t._v("#")]),t._v(" Walk Through")]),t._v(" "),s("p",[t._v("This is just going to be a simple walk through for basic crud.  Lets make a cars table and generate working endpoints.")]),t._v(" "),s("h2",{attrs:{id:"create-the-migration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#create-the-migration"}},[t._v("#")]),t._v(" Create The Migration")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token php language-php"}},[s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token package"}},[t._v("Illuminate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Database"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Schema"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Blueprint")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token package"}},[t._v("Illuminate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Support"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Facades"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Schema")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token package"}},[t._v("Illuminate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Database"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Migrations"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Migration")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n *  Documentation: https://laravel.com/docs/5.8/migrations#creating-columns\n */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CreateCarsTable")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Migration")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n     * Run the migrations.\n     *\n     * @return void\n     */")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("up")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        Schema"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'cars'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Blueprint "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$table")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$table")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bigIncrements")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'id'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$table")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'year'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$table")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'make'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$table")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'model'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$table")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("integer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'number_of_crashes'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n            "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$table")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("softDeletes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$table")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("timestamps")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n     * Reverse the migrations.\n     *\n     * @return void\n     */")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("down")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        Schema"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("drop")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'cars'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])])]),s("h2",{attrs:{id:"run-the-migration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#run-the-migration"}},[t._v("#")]),t._v(" Run The Migration")]),t._v(" "),s("div",{staticClass:"language-shell script extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("php artisan migrate\n")])])]),s("h2",{attrs:{id:"create-the-model"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#create-the-model"}},[t._v("#")]),t._v(" Create the Model")]),t._v(" "),s("div",{staticClass:"language-shell script extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("php artisan akceli\n")])])]),s("p",[s("img",{attrs:{src:"/images/generate-cars-model.png",alt:"An image"}})]),t._v(" "),s("h2",{attrs:{id:"create-the-controller"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#create-the-controller"}},[t._v("#")]),t._v(" Create the Controller")]),t._v(" "),s("div",{staticClass:"language-shell script extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("php artisan akceli\n")])])]),s("p",[s("img",{attrs:{src:"/images/generate-cars-controller.png",alt:"An image"}})]),t._v(" "),s("h2",{attrs:{id:"run-the-cars-controller-tests-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#run-the-cars-controller-tests-1"}},[t._v("#")]),t._v(" Run the Cars Controller Tests: 1")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/first-failing-cars-test.png",alt:"An image"}})]),t._v(" "),s("ul",[s("li",[t._v("6 test failed: you can see that the routes are not hooked up.\n"),s("img",{attrs:{src:"/images/show-cars-controller-not-hooked-up.png",alt:"An image"}})]),t._v(" "),s("li",[t._v("So jump to the web.php file and register the controller, and add the following line\n"),s("img",{attrs:{src:"/images/added-cars-to-webphp.png",alt:"An image"}})]),t._v(" "),s("li",[t._v("if you want Akceli to register this for you form now, just add the inline template that the Akceli command warned bout bing missing.\n"),s("img",{attrs:{src:"/images/show-adding-the-inline-controller-template.png",alt:"An image"}})])]),t._v(" "),s("h2",{attrs:{id:"run-the-cars-controller-tests-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#run-the-cars-controller-tests-2"}},[t._v("#")]),t._v(" Run the Cars Controller Tests: 2")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/secont-cars-test-run.png",alt:"An image"}})]),t._v(" "),s("ul",[s("li",[t._v("4 tests failed:\n"),s("img",{attrs:{src:"/images/first-failing-test-case.png",alt:"An image"}})]),t._v(" "),s("li",[t._v("the data is not valid but its setup so that you can very quickly modify the stubbed data for creating a valid request.")]),t._v(" "),s("li",[t._v("Next lets checkout the Store method on the CarController\n"),s("img",{attrs:{src:"/images/store-cars-controller-method-inital-state.png",alt:"An image"}})]),t._v(" "),s("li",[t._v("Now lets checkout the StoreCarRequest\n"),s("img",{attrs:{src:"/images/store-car-request-intial-state.png",alt:"An image"}})]),t._v(" "),s("li",[t._v("Lets clean the validators to meet the required business logic.\n"),s("img",{attrs:{src:"/images/cleaned-up-store-car-request-rules.png",alt:"An image"}})]),t._v(" "),s("li",[t._v("Now that we have fixed the validator lets add a dump to the method and rerun the test.\n"),s("img",{attrs:{src:"/images/cars-22.png",alt:"An image"}})])]),t._v(" "),s("h2",{attrs:{id:"looks-like-we-still-need-to-add-update-the-fillable-array-on-the-cars-model"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#looks-like-we-still-need-to-add-update-the-fillable-array-on-the-cars-model"}},[t._v("#")]),t._v(" Looks like we still need to add update the fillable array on the Cars Model.")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/fillale-error.png",alt:"An image"}}),t._v(" "),s("img",{attrs:{src:"/images/inital-cars-model.png",alt:"An image"}}),t._v(" "),s("img",{attrs:{src:"/images/updated-cars-model.png",alt:"An image"}})]),t._v(" "),s("ul",[s("li",[t._v("Now that we have updated the fillable array lets run the tests again\n"),s("img",{attrs:{src:"/images/we-have-another-passing-test.png",alt:"An image"}})])]),t._v(" "),s("h2",{attrs:{id:"lets-run-the-other-tests-again"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#lets-run-the-other-tests-again"}},[t._v("#")]),t._v(" Lets run the other tests again")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/factory-failing-test.png",alt:"An image"}})]),t._v(" "),s("ul",[s("li",[t._v("Thats an error in the car factory so lets go check it out.\n"),s("img",{attrs:{src:"/images/facker-inital-setup.png",alt:"An image"}})]),t._v(" "),s("li",[t._v("Similar situation here where there is a lot of stubbed data ready be slightly tweaked.\n"),s("img",{attrs:{src:"/images/updated-facker-data.png",alt:"An image"}})])]),t._v(" "),s("h2",{attrs:{id:"lets-run-the-tests-again"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#lets-run-the-tests-again"}},[t._v("#")]),t._v(" lets run the tests again.")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/last-failing-test.png",alt:"An image"}})]),t._v(" "),s("ul",[s("li",[t._v("All we have left is to pass valid test data and update the UpdateCarsRequest Rules.\n"),s("img",{attrs:{src:"/images/inital-update-car-request.png",alt:"An image"}}),t._v(" "),s("img",{attrs:{src:"/images/final-update-car-request.png",alt:"An image"}}),t._v(" "),s("img",{attrs:{src:"/images/final-test.png",alt:"An image"}})])]),t._v(" "),s("h2",{attrs:{id:"all-tests-are-passing"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#all-tests-are-passing"}},[t._v("#")]),t._v(" All Tests Are Passing")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/all-tests-are-passing.png",alt:"An image"}})])])}),[],!1,null,null,null);a.default=n.exports}}]);