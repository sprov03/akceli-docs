<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Walk Through | Akceli</title>
    <meta name="description" content="Akcelerate your Laravel development">
    <script async="null" src="https://www.googletagmanager.com/gtag/js?id=UA-151006134-2"></script>
  <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-151006134-2');
    </script>
    
    <link rel="preload" href="/assets/css/0.styles.29bf8ef1.css" as="style"><link rel="preload" href="/assets/js/app.bed3ae22.js" as="script"><link rel="preload" href="/assets/js/2.5a58f41d.js" as="script"><link rel="preload" href="/assets/js/13.43585a5e.js" as="script"><link rel="prefetch" href="/assets/js/10.dcd8951b.js"><link rel="prefetch" href="/assets/js/11.75fd3146.js"><link rel="prefetch" href="/assets/js/12.f71aa410.js"><link rel="prefetch" href="/assets/js/14.f1b130a7.js"><link rel="prefetch" href="/assets/js/3.c6a9f80c.js"><link rel="prefetch" href="/assets/js/4.c4832647.js"><link rel="prefetch" href="/assets/js/5.913b3aaa.js"><link rel="prefetch" href="/assets/js/6.ad2b7077.js"><link rel="prefetch" href="/assets/js/7.f871c313.js"><link rel="prefetch" href="/assets/js/8.e5677a41.js"><link rel="prefetch" href="/assets/js/9.047a165c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.29bf8ef1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Akceli</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="https://akceli.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Akceli
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://app.akceli.io/login" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Login
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="https://akceli.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Akceli
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://app.akceli.io/login" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Login
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/guide/" class="sidebar-link">Intro</a></li><li><a href="/guide/installation.html" class="sidebar-link">Installation</a></li><li><a href="/guide/config-doc.html" class="sidebar-link">Configuration</a></li><li><a href="/guide/generator-doc.html" class="sidebar-link">Generators</a></li><li><a href="/guide/template-doc.html" class="sidebar-link">Templates</a></li><li><a href="/guide/walk-through.html" class="active sidebar-link">Walk Through</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/walk-through.html#create-the-migration" class="sidebar-link">Create The Migration</a></li><li class="sidebar-sub-header"><a href="/guide/walk-through.html#run-the-migration" class="sidebar-link">Run The Migration</a></li><li class="sidebar-sub-header"><a href="/guide/walk-through.html#create-the-model" class="sidebar-link">Create the Model</a></li><li class="sidebar-sub-header"><a href="/guide/walk-through.html#create-the-controller" class="sidebar-link">Create the Controller</a></li><li class="sidebar-sub-header"><a href="/guide/walk-through.html#run-the-cars-controller-tests-1" class="sidebar-link">Run the Cars Controller Tests: 1</a></li><li class="sidebar-sub-header"><a href="/guide/walk-through.html#run-the-cars-controller-tests-2" class="sidebar-link">Run the Cars Controller Tests: 2</a></li><li class="sidebar-sub-header"><a href="/guide/walk-through.html#looks-like-we-still-need-to-add-update-the-fillable-array-on-the-cars-model" class="sidebar-link">Looks like we still need to add update the fillable array on the Cars Model.</a></li><li class="sidebar-sub-header"><a href="/guide/walk-through.html#lets-run-the-other-tests-again" class="sidebar-link">Lets run the other tests again</a></li><li class="sidebar-sub-header"><a href="/guide/walk-through.html#lets-run-the-tests-again" class="sidebar-link">lets run the tests again.</a></li><li class="sidebar-sub-header"><a href="/guide/walk-through.html#all-tests-are-passing" class="sidebar-link">All Tests Are Passing</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="walk-through"><a href="#walk-through" class="header-anchor">#</a> Walk Through</h1> <p>This is just going to be a simple walk through for basic crud.  Lets make a cars table and generate working endpoints.</p> <h2 id="create-the-migration"><a href="#create-the-migration" class="header-anchor">#</a> Create The Migration</h2> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Schema<span class="token punctuation">\</span>Blueprint</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Support<span class="token punctuation">\</span>Facades<span class="token punctuation">\</span>Schema</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Migrations<span class="token punctuation">\</span>Migration</span><span class="token punctuation">;</span>

<span class="token comment">/**
 *  Documentation: https://laravel.com/docs/5.8/migrations#creating-columns
 */</span>
<span class="token keyword">class</span> <span class="token class-name">CreateCarsTable</span> <span class="token keyword">extends</span> <span class="token class-name">Migration</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
     * Run the migrations.
     *
     * @return void
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">up</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Schema<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'cars'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>Blueprint <span class="token variable">$table</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token variable">$table</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">bigIncrements</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$table</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'year'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$table</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'make'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$table</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'model'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$table</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">integer</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'number_of_crashes'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token variable">$table</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">softDeletes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$table</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">timestamps</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * Reverse the migrations.
     *
     * @return void
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">down</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Schema<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">drop</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'cars'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</span></code></pre></div><h2 id="run-the-migration"><a href="#run-the-migration" class="header-anchor">#</a> Run The Migration</h2> <div class="language-shell script extra-class"><pre class="language-text"><code>php artisan migrate
</code></pre></div><h2 id="create-the-model"><a href="#create-the-model" class="header-anchor">#</a> Create the Model</h2> <div class="language-shell script extra-class"><pre class="language-text"><code>php artisan akceli
</code></pre></div><p><img src="/images/generate-cars-model.png" alt="An image"></p> <h2 id="create-the-controller"><a href="#create-the-controller" class="header-anchor">#</a> Create the Controller</h2> <div class="language-shell script extra-class"><pre class="language-text"><code>php artisan akceli
</code></pre></div><p><img src="/images/generate-cars-controller.png" alt="An image"></p> <h2 id="run-the-cars-controller-tests-1"><a href="#run-the-cars-controller-tests-1" class="header-anchor">#</a> Run the Cars Controller Tests: 1</h2> <p><img src="/images/first-failing-cars-test.png" alt="An image"></p> <ul><li>6 test failed: you can see that the routes are not hooked up.
<img src="/images/show-cars-controller-not-hooked-up.png" alt="An image"></li> <li>So jump to the web.php file and register the controller, and add the following line
<img src="/images/added-cars-to-webphp.png" alt="An image"></li> <li>if you want Akceli to register this for you form now, just add the inline template that the Akceli command warned about bing missing.
<img src="/images/show-adding-the-inline-controller-template.png" alt="An image"></li></ul> <h2 id="run-the-cars-controller-tests-2"><a href="#run-the-cars-controller-tests-2" class="header-anchor">#</a> Run the Cars Controller Tests: 2</h2> <p><img src="/images/secont-cars-test-run.png" alt="An image"></p> <ul><li>4 tests failed:
<img src="/images/first-failing-test-case.png" alt="An image"></li> <li>the data is not valid but its setup so that you can very quickly modify the stubbed data for creating a valid request.</li> <li>Next lets checkout the Store method on the CarController
<img src="/images/store-cars-controller-method-inital-state.png" alt="An image"></li> <li>Now lets checkout the StoreCarRequest
<img src="/images/store-car-request-intial-state.png" alt="An image"></li> <li>Lets clean the validators to meet the required business logic.
<img src="/images/cleaned-up-store-car-request-rules.png" alt="An image"></li> <li>Now that we have fixed the validator lets add a dump to the method and rerun the test.
<img src="/images/cars-22.png" alt="An image"></li></ul> <h2 id="looks-like-we-still-need-to-add-update-the-fillable-array-on-the-cars-model"><a href="#looks-like-we-still-need-to-add-update-the-fillable-array-on-the-cars-model" class="header-anchor">#</a> Looks like we still need to add update the fillable array on the Cars Model.</h2> <p><img src="/images/fillale-error.png" alt="An image"> <img src="/images/inital-cars-model.png" alt="An image"> <img src="/images/updated-cars-model.png" alt="An image"></p> <ul><li>Now that we have updated the fillable array lets run the tests again
<img src="/images/we-have-another-passing-test.png" alt="An image"></li></ul> <h2 id="lets-run-the-other-tests-again"><a href="#lets-run-the-other-tests-again" class="header-anchor">#</a> Lets run the other tests again</h2> <p><img src="/images/factory-failing-test.png" alt="An image"></p> <ul><li>Thats an error in the car factory so lets go check it out.
<img src="/images/facker-inital-setup.png" alt="An image"></li> <li>Similar situation here where there is a lot of stubbed data ready be slightly tweaked.
<img src="/images/updated-facker-data.png" alt="An image"></li></ul> <h2 id="lets-run-the-tests-again"><a href="#lets-run-the-tests-again" class="header-anchor">#</a> lets run the tests again.</h2> <p><img src="/images/last-failing-test.png" alt="An image"></p> <ul><li>All we have left is to pass valid test data and update the UpdateCarsRequest Rules.
<img src="/images/inital-update-car-request.png" alt="An image"> <img src="/images/final-update-car-request.png" alt="An image"> <img src="/images/final-test.png" alt="An image"></li></ul> <h2 id="all-tests-are-passing"><a href="#all-tests-are-passing" class="header-anchor">#</a> All Tests Are Passing</h2> <p><img src="/images/all-tests-are-passing.png" alt="An image"></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guide/template-doc.html" class="prev">Templates</a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.bed3ae22.js" defer></script><script src="/assets/js/2.5a58f41d.js" defer></script><script src="/assets/js/13.43585a5e.js" defer></script>
  </body>
</html>
